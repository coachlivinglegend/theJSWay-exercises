<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Password checker</title>
</head>

<body>
    <form>
        <p>
            <label for="password1">Enter the password</label>:
            <input type="password" name="password1" id="password1" required>
        </p>
        <p>
            <label for="password2">Confirm the password</label>:
            <input type="password" name="password2" id="password2" required>
        </p>

        <input type="submit" value="Send">
    </form>

    <p id="passwordHelp"></p>
    <script>
        /*
        Write the JavaScript code that validates the password when the user submits the form. The validation rules are as follow:
    
        The two inputted passwords must be identical.
        The minimal password length is 6 characters.
        The password must contain at least one digit.
        The validation result must be shown on the page with an appropriate message in each case.
        */
        const formElement = document.querySelector("form");
        formElement.addEventListener("submit", e => {
            const password1 = e.target.elements.password1.value;
            const password2 = e.target.elements.password2.value;
            let message = "";
            const testRegex = /^(?=.*\d).{6,}$/;
            if (password1 !== password2 || !testRegex.test(password1)) {
                message = "Not a valid password"
            };
            document.getElementById("passwordHelp").textContent = message;
            e.preventDefault();
        });

    </script>
</body>

</html>